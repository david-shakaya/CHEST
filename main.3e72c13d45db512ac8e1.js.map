{"version":3,"sources":["webpack:///./js/refs.js","webpack:///./js/showsTextPrompts.js","webpack:///./js/renderListBoxes.js","webpack:///./js/openedModalWindow.js","webpack:///./js/selectsElement.js","webpack:///./js/srartsGame.js","webpack:///./js/buysGames.js"],"names":["refs","body","document","querySelector","gamesAvailable","gamesQuantity","btnPlus","btnMinus","sum","btnBuy","wrapperText","btnStartGame","items","querySelectorAll","listItems","textPromts","state","gamesАvailable","showsTextPrompts","textVariable","text","textContent","renderListBoxes","innerHTML","returnsTextForModal","win","instance","basicLightbox","onShow","element","onclick","close","closable","returnsClassName","clickStartGame","click","addedListener","startGame","addEventListener","renderGamesAvailable","deleteClassFromGameArea","forEach","item","classList","add","event","target","nodeName","show","remove","startedGame","renderQuantity"],"mappings":"yIAcgBA,EAdF,CACTC,KAAMC,SAASC,cAAc,QAC7BC,eAAgBF,SAASC,cAAc,uBACvCE,cAAeH,SAASC,cAAc,qBACtCG,QAASJ,SAASC,cAAc,gBAChCI,SAAUL,SAASC,cAAc,iBACjCK,IAAKN,SAASC,cAAc,WAC5BM,OAAQP,SAASC,cAAc,eAC/BO,YAAaR,SAASC,cAAc,oBACpCQ,aAAcT,SAASC,cAAc,sBACrCS,MAAOV,SAASW,iBAAiB,sBACjCC,UAAWZ,SAASC,cAAc,kBCRjCY,EACI,oEADJA,EAEM,kCAFNA,EAAa,WAMX,IAAIC,EAAMC,eAAe,CAEtB,wBAAyBD,EAAMC,eAA/B,4CAEL,wBAAyBD,EAAMC,eAA/B,mCAIN,SAASC,EAAiBC,GAI1B,IAA4BC,IAHND,EAIlBnB,EAAKU,YAAYW,YAAcD,E,oCCfpBE,G,UALS,WAEtBtB,EAAKc,UAAUS,UADI,ymBC2BfC,EAAsB,WAC1B,OAAKC,EAGE,0CAFE,uCAKIC,EA9BE,WACf,OAAOC,SAAA,8DAIHH,IAJG,yEASL,CACEI,OAAQ,SAAAF,GACNA,EAASG,UAAU1B,cAAc,UAAU2B,QAAU,WAGnD,OAFAZ,EAAiBH,KACjBO,IACOI,EAASK,UAGpBC,UAAU,KCrBZP,GAAM,EAgBV,IAAMQ,EAAmB,WAQvB,OANAR,GAAOA,GAEI,uBAEA,yBCrBPS,EAAiB,CACrBC,OAAO,EACPC,eAAe,GAGjB,SAASC,IAEHH,EAAeE,gBACjBpC,EAAKW,aAAa2B,iBAAiB,SAIrC,WACE,GAA6B,IAAzBtB,EAAMC,iBAAiD,IAAzBiB,EAAeC,MAC/C,OAGFD,EAAeC,OAASD,EAAeC,MACvCjB,EAAiBH,GACjBC,EAAMC,gBAAkB,EACxBsB,IACAC,IAEAxC,EAAKY,MAAM6B,SAAQ,SAAAC,GACjBA,EAAKC,UAAUC,IAAI,0BAfrBV,EAAeE,eAAgB,GDPjCpC,EAAKc,UAAUwB,iBAAiB,SAEhC,SAAiBO,GACe,OAA1BA,EAAMC,OAAOC,WACfF,EAAMC,OAAOH,UAAUC,IAAIX,KAC3BjC,EAAKc,UAAU6B,UAAUC,IAAI,sBAC7BlB,IAAWsB,OACC9C,SAASC,cAAc,kBACnC+B,EAAeC,OAAQ,MCoB7B,IAAMK,EAA0B,WAC9BxC,EAAKc,UAAU6B,UAAUM,OAAO,uBChC5BjC,EAAQ,CACZC,iBAAgB,EAChBZ,cAAe,EACfG,IAAK,EACL0C,aAAY,GA2Bd,SAASC,IACPnD,EAAKK,cAAcgB,YAAcL,EAAMX,cACvCL,EAAKQ,IAAIe,UAAeP,EAAMR,IAA9B,sDAGF,SAAS+B,IACPvB,EAAMC,gBAAkBD,EAAMX,cAC9BL,EAAKI,eAAeiB,YAAcL,EAAMC,eA/B1CjB,EAAKM,QAAQgC,iBAAiB,SAI9B,WACEtB,EAAMX,eAAiB,EACvBW,EAAMR,KAAO,EACb2C,IAEAnD,EAAKO,SAASoC,UAAUM,OAAO,6CARjCjD,EAAKO,SAAS+B,iBAAiB,SAW/B,WACMtB,EAAMX,cAAgB,IACxBW,EAAMX,eAAiB,EACvBW,EAAMR,KAAO,EACb2C,KAG0B,IAAxBnC,EAAMX,eACRL,EAAKO,SAASoC,UAAUC,IAAI,6CAlBhC5C,EAAKS,OAAO6B,iBAAiB,SAgC7B,WACE,GAA4B,IAAxBtB,EAAMX,cACR,OAEEW,EAAMkC,cACRb,IACArB,EAAMkC,aAAc,GAEtBX,IACArB,EAAiBH,GAOjBC,EAAMX,cAAgB,EACtBW,EAAMR,IAAM,EANZR,EAAKO,SAASoC,UAAUC,IAAI,0CAC5BO,S","file":"main.3e72c13d45db512ac8e1.js","sourcesContent":[" const refs = {\n     body: document.querySelector('body'),\n     gamesAvailable: document.querySelector('.js-games-available'),\n     gamesQuantity: document.querySelector('.js-quantity-game'),\n     btnPlus: document.querySelector('.js-btn-plus'),\n     btnMinus: document.querySelector('.js-btn-minus'),\n     sum: document.querySelector('.js-sum'),\n     btnBuy: document.querySelector('.js-btn-buy'),\n     wrapperText: document.querySelector('.prompts-text-js'),\n     btnStartGame: document.querySelector('.btn-start-game-js'),\n     items: document.querySelectorAll('.game-area-item-js'),\n     listItems: document.querySelector('.list-item-js'),\n}\n\n export default refs","import {state} from './buysGames'\r\nimport refs from './refs'\r\n\r\nconst textPromts = {\r\n    game: `Поздравляем с покупкой игр(ы).Нажми кноку играть и выбери сундук!`,\r\n    сhoice: 'Все верно, теперь выбери сундук',\r\n    win: 'Юхууу, вы выиграли!!!',\r\n    lose: 'К сожалению фортуна не на вашей стороне',\r\n    сlickStart() {\r\n        if(!state.gamesАvailable){\r\n           const noGames = 'Нужно купить игры для продолжения'\r\n           return `У вас осталось ${state.gamesАvailable} игр(ы).${noGames}`\r\n        }\r\n      return `У вас осталось ${state.gamesАvailable} игр(ы). Нажмите кнопку ИГРАТЬ!`\r\n    },\r\n}\r\n\r\nfunction showsTextPrompts(textVariable) {\r\n    renderTextPrompts(textVariable)\r\n}  \r\n\r\nfunction renderTextPrompts (text) {\r\n    refs.wrapperText.textContent = text\r\n}\r\n\r\nexport {showsTextPrompts, textPromts};","import refs from \"./refs\";\r\n\r\nconst renderListBoxes = () => {\r\n  const listBoxes =  '<li class=\"game-area__item game-area-item-js game-area__scale\"></li><li class=\"game-area__item game-area-item-js game-area__scale\"></li><li class=\"game-area__item game-area-item-js game-area__scale\"></li><li class=\"game-area__item game-area-item-js game-area__scale\"></li><li class=\"game-area__item game-area-item-js game-area__scale\"></li><li class=\"game-area__item game-area-item-js game-area__scale\"></li><li class=\"game-area__item game-area-item-js game-area__scale\"></li><li class=\"game-area__item game-area-item-js game-area__scale\"></li><li class=\"game-area__item game-area-item-js game-area__scale\"></li>'\r\n  refs.listItems.innerHTML = listBoxes;\r\n}\r\n \r\nexport default renderListBoxes;\r\n","import * as basicLightbox from 'basiclightbox';\r\nimport '../../node_modules/basiclightbox/dist/basicLightbox.min.css';\r\n\r\nimport { showsTextPrompts, textPromts } from './showsTextPrompts';\r\nimport { win } from './selectsElement';\r\nimport renderListBoxes from './renderListBoxes';\r\n\r\nconst instance = () => {\r\n  return basicLightbox.create(\r\n    `\r\n    <div class=\"modal\">\r\n    <p class=\"modal-text\">\r\n    ${returnsTextForModal()}\r\n   </p>\r\n        <button class=\"modal-btn\">Ок</button>\r\n    </div>\r\n`,\r\n    {\r\n      onShow: instance => {\r\n        instance.element().querySelector('button').onclick = () => {\r\n          showsTextPrompts(textPromts.сlickStart());\r\n          renderListBoxes();\r\n          return instance.close();\r\n        };\r\n      },\r\n      closable: false,\r\n    },\r\n  );\r\n};\r\n\r\nconst returnsTextForModal = () => {\r\n  if (!win) {\r\n    return 'К сожалению вы проиграли, еще раз ?';\r\n  }\r\n  return 'Да ты красавчик, так держать! Еще раз ?';\r\n};\r\n\r\nexport default instance;\r\n","import refs from './refs';\r\nimport instance from './openedModalWindow';\r\nimport { clickStartGame } from './srartsGame';\r\n\r\nlet win = false;\r\n\r\nfunction selectElement() {\r\n  refs.listItems.addEventListener('click', openBox);\r\n\r\n  function openBox(event) {\r\n    if (event.target.nodeName === 'LI') {\r\n      event.target.classList.add(returnsClassName());\r\n      refs.listItems.classList.add('game-area__overlay')\r\n      instance().show()\r\n      const btn = document.querySelector('.modall-btn-js')\r\n      clickStartGame.click = false\r\n    }\r\n  }\r\n}\r\n\r\nconst returnsClassName = () => {\r\n  let result = '';\r\n  win = !win;\r\n  if (win) {\r\n    result = 'game-area__item--win';\r\n  } else {\r\n    result = 'game-area__item--lose';\r\n  }\r\n  return result;\r\n};\r\n\r\nexport {selectElement, win};\r\n","import refs from './refs';\r\nimport { showsTextPrompts, textPromts } from './showsTextPrompts';\r\nimport { selectElement } from './selectsElement';\r\nimport { state, renderGamesAvailable } from './buysGames';\r\n\r\nconst clickStartGame = {\r\n  click: false,\r\n  addedListener: false,\r\n};\r\n\r\nfunction startGame() {\r\n\r\n  if(!clickStartGame.addedListener) {\r\n    refs.btnStartGame.addEventListener('click', beginsGame);\r\n    clickStartGame.addedListener = true\r\n  }\r\n\r\n  function beginsGame() {\r\n    if (state.gamesАvailable === 0 || clickStartGame.click === true) {\r\n      return;\r\n    }\r\n\r\n    clickStartGame.click = !clickStartGame.click;\r\n    showsTextPrompts(textPromts.сhoice);\r\n    state.gamesАvailable -= 1;\r\n    renderGamesAvailable();\r\n    deleteClassFromGameArea()\r\n\r\n    refs.items.forEach(item => {\r\n      item.classList.add('game-area__scale');\r\n    });\r\n  }\r\n  selectElement();\r\n}\r\n\r\nconst deleteClassFromGameArea = () => {\r\n  refs.listItems.classList.remove('game-area__overlay')\r\n}\r\n\r\nexport { startGame, clickStartGame };\r\n","import refs from './refs';\r\nimport {showsTextPrompts, textPromts} from './showsTextPrompts'\r\nimport {startGame} from './srartsGame'\r\n\r\nconst state = {\r\n  gamesАvailable: 0,\r\n  gamesQuantity: 0,\r\n  sum: 0,\r\n  startedGame:false,\r\n};\r\n\r\nrefs.btnPlus.addEventListener('click', plusToQuantity);\r\nrefs.btnMinus.addEventListener('click', minusFromQuantity);\r\nrefs.btnBuy.addEventListener('click', buyedGames);\r\n\r\nfunction plusToQuantity() {\r\n  state.gamesQuantity += 1;\r\n  state.sum += 5;\r\n  renderQuantity();\r\n\r\n  refs.btnMinus.classList.remove('player-scoreboard__btn-minus--disabled');\r\n}\r\n\r\nfunction minusFromQuantity() {\r\n  if (state.gamesQuantity > 0) {\r\n    state.gamesQuantity -= 1;\r\n    state.sum -= 5;\r\n    renderQuantity();\r\n  }\r\n\r\n  if (state.gamesQuantity === 0) {\r\n    refs.btnMinus.classList.add('player-scoreboard__btn-minus--disabled');\r\n  }\r\n}\r\n\r\nfunction renderQuantity() {\r\n  refs.gamesQuantity.textContent = state.gamesQuantity;\r\n  refs.sum.innerHTML = `${state.sum} <span class=\"player-scoreboard__sum-icon\">$</span>`;\r\n}\r\n\r\nfunction renderGamesAvailable() {\r\n  state.gamesАvailable += state.gamesQuantity;\r\n  refs.gamesAvailable.textContent = state.gamesАvailable;\r\n}\r\n\r\nfunction buyedGames() {\r\n  if (state.gamesQuantity === 0) {\r\n    return;\r\n  }\r\n  if(!state.startedGame){\r\n    startGame()\r\n    state.startedGame = true\r\n  }\r\n  renderGamesAvailable();\r\n  showsTextPrompts(textPromts.game)\r\n  resetNumbers();\r\n  refs.btnMinus.classList.add('player-scoreboard__btn-minus--disabled');\r\n  renderQuantity();\r\n}\r\n\r\nfunction resetNumbers() {\r\n  state.gamesQuantity = 0;\r\n  state.sum = 0;\r\n}\r\n\r\nexport {renderGamesAvailable ,state};"],"sourceRoot":""}